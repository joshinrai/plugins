# L.dmap 

### 基于leaflet的地图可视化组件

---------
  dmap是基于[leaflet](leafletjs.com)(轻量、开源、高效的地图js库)的可视化组件集, 由一系列组件拼装而成, 每个组件都可通过tnpm进行安装，你可以按需加载。
  
  我们使用的模块管理器是 [node-cube](https://github.com/node-cube/cube) 你也可以用 [browserify.org](http://browserify.org/)
  
### 文档 http://gitlab.alibaba-inc.com/maliang/ldmap/blob/master/util/doc.md

  安装:
  
  ```
  npm install node-cube -g
  
  ```
  
  使用:
  
  ```
  cube start
  
  http://localhost:9999/demo
  
  ```
### 接口

1、 .init() 初始化 

2、 .data(data) 更新数据，有时数据是异步载入的

3、 update() / .updateData() 数据更新相关的计算和绘制

4、 .render(data) 更新数据并绘制 即 .data方法和updateData方法的叠加

5、 .draw() 仅仅绘制

3、 .hide()  隐藏/回到init刚结束的初始状态而不销毁 hide的时候 必须触发hide事件

4、 .destory()  清除 .destory 彻底销毁元素

### 事件
  常用的有 
     2d地图: resize movestart moveend data select（点击选择区域）


### 引用

##### 绘图
 
 [L.canvas](http://gitlab.alibaba-inc.com/ningyi.zny/lcanvas/tree/master)响应leaflet事件的canvas层库。
 
##### 数据

 [map-atlas](http://gitlab.alibaba-inc.com/screen/map_atlas/tree/master) atlas地图说明
 
 [map-data](http://gitlab.alibaba-inc.com/datav/map-data/tree/master)数据资源加载
 
 [stream](http://gitlab.alibaba-inc.com/maliang/stream/tree/master)流式数据管理
 
##### 其他

[map-utils](http://gitlab.alibaba-inc.com/datav/map-utils/tree/master) 公共方法(配色、动画、几何计算、辅助线、数学、sprite等)

### 需要日常环境绑定

```
10.189.224.26 daily.s.aliyun.com# daily
```