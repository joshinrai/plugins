var $ = require('jquery');
var L = require('leaflet');
var Model = L.model = require('@ali/map-data');
var Utils = require('./core/utils');

require('./index.css');

L.Utils = Utils.merge(L.Util, Utils);

var dmap = L.dmap = L.dmap || {};

require('./layer/areas');
require('./render/canvas');
require('./layer/tilelayer');
require('./layer/scatter_canvas');
require('./layer/scatter_markers');
require('./layer/scatter_marker');
require('./layer/iconFont');
require('./layer/flyingLineGradient');
require('./layer/flyingLineDash');
require('./layer/markercluster');
require('./layer/heatmap_grid');
require('./map/map');

dmap.init = function (opt) {
  if (opt.fileBase) {
    Model.fileBase = opt.fileBase;
  }
  if (opt.severBase) {
    Model.severBase = opt.severBase;
  }
};

module.exports = L;