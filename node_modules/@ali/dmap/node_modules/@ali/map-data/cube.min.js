!function(e,t){function n(){}function r(e,t,n){if(3===arguments.length){var a=new r(e);a.load(t,n)}else this.name=e?e:"_",this.base=c,this.charset=s}function a(e,t){if(void 0!==t){var n=r._cached[e];r.css(n,t,e)}return r._cached[e]}function i(e,t,n){if("function"!=typeof t){if(!f)return void console.warn("[Cube] dynamic loading css disabled!");r.use(e,function(a){r.css(a,t,e),n&&n(a)})}else r.use(e,t)}function o(e){var t,n,a=r._flag,i={};if(t=a[e]){for(var c=t.length-1;c>=0;c--)n=t[c](e),n!==!1&&(t.splice(c,1),c=t.length,n&&(i[n]=!0));t.length||delete a[e];for(c in i)o(c)}}var c="",s="utf-8",u=(new Date).getTime(),l=1e4,d=!1,f=!1,_=window.localStorage?window.localStorage.getItem("__cube_debug__"):!1;r.toString=function(){return"Cube:v0.1.0"},r.init=function(e){return e.base&&"/"!==e.base&&(c=e.base.replace(/\/$/,"")),e.charset&&(s=e.charset),e.version&&(u=e.version),e.debug&&(d=e.debug),e.timeout&&(l=e.timeout),e.enableCss&&(f=e.enableCss),this},r.debug=function(){if(window.localStorage){var e=localStorage.getItem("__cube_debug__");e?localStorage.removeItem("__cube_debug__"):localStorage.setItem("__cube_debug__",!0)}},r.use=function(e,t){if(!e)throw new Error("Cube.use(moduleName) moduleName is undefined!");t||(t=n),0===e.indexOf("./")?e=e.substr(1):"/"!==e[0]&&(e="/"+e);var a=new r;return a.load(e,function(n,r,a){t(a(e))}),this},r.css=function(){},r.remove=function(){},r.register=function(e,t){var n=this._cached[e];n?console.error("module already registered:",e):this._cached[e]=t},r._cached={},r._flag={},r._tree={},r.module=function(e){return this._cached[e]},r.prototype={load:function(e,t){var n=this.name,a=e;"string"==typeof a&&setTimeout(function(){r._flag[e]&&console.error("load script timeout:",e)},l),a?"string"==typeof a&&(a=[a]):a=[];var i=a.length,o=[],c=!1;if(this._load_stack={req:o,total:i,cb:t,count:0},i){for(var s,u=0;i>u;u++)s=a[u],d&&(r._tree[s]||(r._tree[s]={}),r._tree[s][n]=!0,c=this._checkCycle(s)),c||(o.push(s),this._loadScript(s));o.length||this._leafMod(t)}else this._leafMod(t)},_leafMod:function(t){var n,c={exports:{}};t&&(n=t.apply(e,[c,c.exports,a,i,"",""])),n?n.__filename=this.name:n=!0,r._cached[this.name]=n,o(this.name)},_checkCycle:function(e,t){t||(t=[e]);var n,a,i=r._tree[e];if(!i)return!1;for(var o in i){if(-1!==t.indexOf(o))return t.unshift(o),console.warn("[WARNNING]","cycle require : "+t.join(" > ")),!0;if(n=t.slice(0),n.unshift(o),a=this._checkCycle(o,n))return!0}return!1},_loadScript:function(t){function n(t){var n=s._load_stack,o=!1;if(r._cached[t]&&(n.count++,o=s.name),n.total<=n.count){var c,u={exports:{}},l=s.name,d=l.replace(/[^\/]*$/,"");n.cb&&(c=n.cb.apply(e,[u,u.exports,a,i,l,d])),c?c.__filename=s.name:c=!0,r._cached[s.name]=c}return o}var c=r._cached[t],s=this,l=r._flag;if(c)return l=n(t),void(l!==!1&&o(l));if(c===!1)return void l[t].push(n);l[t]||(l[t]=[]),l[t].push(n),r._cached[t]=!1;var d=document.getElementsByTagName("head")[0].appendChild(document.createElement("script"));d.type="text/javascript",d.async="true",d.charset=this.charset,_&&!/\.\w+\.js$/.test(t)&&(t=t.replace(/\.js$/,".source.js"));var f=[this.base,t,"?m=1&",u];d.src=f.join("")}},t=t?t:"Cube",e[t]?console.log("window."+t+' already in using, replace the last "null" param in cube.js'):e[t]=r}(window,null);