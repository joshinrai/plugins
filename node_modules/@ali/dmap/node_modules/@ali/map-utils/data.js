/**
 * normalizeData 将函数可视化的维度，映射到0-1
 * @param {Array} ds   传入的数据
 * @param {String} vKey 用来可视化的维度
 * @return {[type]}  处理过的数据
 */
function normalizeData(ds, vKey) {
  var vMax, d, v;
  for (var k in ds) {
    d = ds[k];
    v = parseFloat(d[vKey]);
    vMax = (!vMax) ? v : Math.max(v, vMax);
  }

  vMax = vMax || 0.0000001;
  for (var i in ds) {
    d = ds[i];
    d.vFormat = d[vKey] / vMax;
  }
  return ds;
}

module.exports = {
  'normalizeData': normalizeData,
};