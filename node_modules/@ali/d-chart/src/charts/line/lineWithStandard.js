require('./line.css');
var Line = require('./line');
var d3 = require('../../libs/d3');
var _ = require('../../util');

var LineWithStandard = function (options) {
  this._init(options);
  this._initLayout();
};

Line.extend(LineWithStandard, {
  renderStandard : function (data) {
    this._beforeRender();
    var opt = this.$options;
    var axiss = this._com.getComs('axis');
    var xaxis = axiss[0];
    var yaxis = axiss[1];
    var x = xaxis.getX();
    var y = yaxis.getX();

    var line = d3.svg.line()
      .x(function(d) { return x(d[opt.x]); })
      .y(function(d) { return y(d[opt.y]); });

    this.svg
      .datum(data)
      .append('path')
      .attr({
        "class": "line standard",
        "d": line,
      });

    this._afterRender();
  }
});

module.exports = LineWithStandard;

