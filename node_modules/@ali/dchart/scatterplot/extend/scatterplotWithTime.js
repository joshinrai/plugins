function ScatterplotWithTime(t,e){var i={margin:{top:20,right:20,bottom:20,left:20},xaxis:{type:"time",orient:"bottom",key:e.x||"x"},yaxis:{type:"defaults",orient:"left",key:e.y||"y"}};i=_.deepMerge(i,e),Point.call(this,t,i)}require("./../scatterplot.css");var Point=require("./scatterplot"),d3=require("d3"),_=require("../../util");ScatterplotWithTime=Point.extend(ScatterplotWithTime,{renderTimeLine:function(t){function e(t){n.svg.selectAll(".point").data([]).exit().remove(),n.svg.selectAll(".point").data(t).enter().append("circle").attr({"class":"point",cx:function(t){return s(d3.time.format(o.format).parse(t[o.xaxis.key]))},cy:function(t){return c(t[o.yaxis.key])},r:5}).on("mouseover",function(){d3.select(this).style("opacity",.6),n.emit("bar.mouseover",this)}).on("mouseout",function(){d3.select(this).style("opacity",1),n.emit("bar.mouseout",this)}).on("click",function(){n.emit("bar.click",this)})}this._beforeRender();var i,r,n=this,o=this.options;i=this.renderAxis(o.xaxis),i.addClass("x"),r=this.renderAxis(o.yaxis);var s=i.getX(),a=i.getAxisX(),c=r.getX();e(this._data);var l=this.renderTime(t),m=l.getX();l.on("time.brush",function(t){if(s.domain(t.empty()?m.domain():t.extent()),!t.empty()){var i=t.extent()[0],r=t.extent()[1],c=_.filter(n.data,function(t){return new Date(t[o.x])>=i&&new Date(t[o.x])<=r});e(c)}n.svg.select(".x.axis").call(a)}),this._afterRender()}}),module.exports=ScatterplotWithTime;