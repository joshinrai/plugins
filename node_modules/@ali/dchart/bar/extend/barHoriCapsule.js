function BarHoriCapsule(e,t){var r={margin:{top:20,right:60,bottom:30,left:80},yaxis:{type:"category",padding:[.95,.4],dy:40,key:"x"},xaxis:{orient:"top",key:"y"}};_.deepMerge(r,t,1),Bar.call(this,e,r)}require("../bar.css");var Bar=require("../barHorizontal"),d3=require("d3"),_=require("../../util");BarHoriCapsule=Bar.extend(BarHoriCapsule,{_afterRender:function(){Bar.prototype._afterRender.call(this);var e=this.options,t=this.svg,r=this.getComs("axis","yaxis"),i=r.getX(),a=this.series,n=e.yaxis.key,s=e.xaxis.key;a.each(function(r){t.insert("rect",".bars").attr({"class":"bars-bg",rx:8,ry:5,x:-8,y:function(){return i(r[n])-5},width:e.innerWidth+16,height:i.rangeBand()+10}).style("fill","none"),t.insert("text",".bars").attr({"class":"bars-label",x:e.innerWidth+30,y:function(){return i(r[n])+6}}).text(function(){return r[s]})})},_updateAfterRender:function(){var e=this.options,t=this.getComs("axis","yaxis"),r=t.getX(),i=this.series,a=this.svg,n=e.yaxis.key,s=e.xaxis.key;i.each(function(t,i){d3.select(a.selectAll(".bars-bg")[0][i]).attr({rx:15,ry:5,x:-10,y:function(){return r(t[n])-5},width:e.innerWidth+20,height:r.rangeBand()+10}).style("fill","none"),d3.select(a.selectAll(".bars-label")[0][i]).attr({x:e.innerWidth+30,y:function(){return r(t[n])+6}}).text(function(){return t[s]})})}}),module.exports=BarHoriCapsule;