function barMultiAxisWithShape(t,e){var i={margin:{left:20,top:20,right:10,bottom:90},yaxis:{padding:.3,key:"y"},xaxis:{type:"category",padding:.6,dy:40,key:"x",groupPadding:[.4,0]}};_.deepMerge(i,e,1),Bar.call(this,t,i)}var Bar=require("../barMulti"),_=require("../../util"),d3=require("d3");barMultiAxisWithShape=Bar.extend(barMultiAxisWithShape,{_beforeRender:function(){Bar.prototype._beforeRender.call(this);var t=this.options,e=[];this._data.forEach(function(i){e=_.union(e,i[t.yaxis.key])});var i=_.max(e),a=84/(t.innerHeight-80-4)*i;t.yaxis.min=-a},_updateBeforeRender:function(){Bar.prototype._updateBeforeRender.call(this);var t=this.options,e=[];this._data.forEach(function(i){e=_.union(e,i[t.yaxis.key])});var i=_.max(e),a=84/(t.innerHeight-80-4)*i;t.yaxis.min=-a},_afterRender:function(){Bar.prototype._afterRender.call(this);var t=(this.options,this.getComs("axis","xaxis")),e=t.getX().rangeBand();t.append("polygon",".tick"),t.selectAll("polygon").attr({points:function(){var t=e/2,i=t+6,a=[{x:0,y:i},{x:-t,y:i-t/2},{x:-t,y:i-t},{x:t,y:i-t},{x:t,y:i-t/2}];return _.pos2Str(a)}})},_updateAfterRender:function(){Bar.prototype._updateAfterRender.call(this);var t=(this.options,this.getComs("axis","xaxis")),e=t.getX().rangeBand();t.append("polygon",".tick"),t.selectAll("polygon").attr({points:function(){var t=e/2,i=t+6,a=[{x:0,y:i},{x:-t,y:i-t/2},{x:-t,y:i-t},{x:t,y:i-t},{x:t,y:i-t/2}];return _.pos2Str(a)}})}}),module.exports=barMultiAxisWithShape;