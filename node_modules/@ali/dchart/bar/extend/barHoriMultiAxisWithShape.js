function barMultiAxisWithShape(t,e){var a={margin:{left:20,top:-37,right:20,bottom:60},xaxis:{padding:.3,key:"x"},yaxis:{type:"category",padding:.6,key:"y",groupPadding:[.4,0]}};_.deepMerge(a,e,1),DataV.call(this,t,a)}var DataV=require("../barMultiHori"),_=require("../../util"),d3=require("d3");barMultiAxisWithShape=DataV.extend(barMultiAxisWithShape,{_beforeRender:function(){DataV.prototype._beforeRender.call(this);var t=this.options,e=[];this._data.forEach(function(a){e=_.union(e,a[t.xaxis.key])});var a=_.max(e),r=84/(this.innerWidth-80-4)*a;t.xaxis.min=-r},_updateBeforeRender:function(){DataV.prototype._updateBeforeRender.call(this),this._beforeRender()},_afterRender:function(){DataV.prototype._afterRender.call(this);var t=(this.options,this.getComs("axis","yaxis"));t.attr({transform:"translate(-40, 0)"}),t.append("polygon",".tick"),t.selectAll("polygon").attr({points:function(){var t=12,e=6,a=[{x:e,y:0},{x:e+t,y:2*-t},{x:e+t+t,y:2*-t},{x:e+t+t,y:2*t},{x:e+t,y:2*t}];return _.pos2Str(a)}}),this.series.each(function(){var t=d3.select(this);t.selectAll(".bar").each(function(){var e=d3.select(this),a=parseInt(e.attr("x")),r=parseInt(e.attr("y")),i=parseInt(e.attr("height")),n=e.classed("y1")?0:1;t.insert("text").attr({x:a+4,y:r+i-3}).text(function(){var t=["村点数","淘村数"];return t[n]})})})},_updateAfterRender:function(){DataV.prototype._updateAfterRender.call(this);var t=(this.options,this.getComs("axis","yaxis"));t.attr({transform:"translate(-40, 0)"}),t.append("polygon",".tick"),t.selectAll("polygon").attr({points:function(){var t=12,e=6,a=[{x:e,y:0},{x:e+t,y:2*-t},{x:e+t+t,y:2*-t},{x:e+t+t,y:2*t},{x:e+t,y:2*t}];return _.pos2Str(a)}}),this.series.each(function(){var t=d3.select(this);t.selectAll(".bar").each(function(){var e=d3.select(this),a=parseInt(e.attr("x")),r=parseInt(e.attr("y")),i=parseInt(e.attr("height")),n=e.classed("y1")?0:1;t.select("text").attr({x:a+4,y:r+i-3}).text(function(){var t=["村点数","淘村数"];return t[n]})})})}}),module.exports=barMultiAxisWithShape;