function BarMultiWithBG(t,e){var r={margin:{top:20,right:20,bottom:30,left:20},xaxis:{type:"category",padding:.5,dy:10,key:"x",groupPadding:[.4]},yaxis:{min:0,key:"y"}};_.deepMerge(r,e,1),Bar.call(this,t,r)}require("../bar.css");var Bar=require("../barMulti"),_=require("../../util"),d3=require("d3"),textures=require("textures");BarMultiWithBG=Bar.extend(BarMultiWithBG,{_afterRender:function(){Bar.prototype._afterRender.call(this);var t=this.options,e=this.svg,r=textures.lines().orientation("horizontal").stroke("#4d4e4e").size(6).strokeWidth(4);e.call(r);var i=this.getComs("axis","xaxis"),a=i.getX(),s=this.series,n=t.xaxis.key;s.each(function(){var i=d3.select(this).data()[0];e.insert("rect",".bars").attr({"class":"bars-bg",x:function(){return a(i[n])},y:-1,width:a.rangeBand(),height:t.innerHeight+2}).style("fill",r.url())})},_updateAfterRender:function(){Bar.prototype._updateAfterRender.call(this);{var t=this.options,e=this.getComs("axis","xaxis"),r=e.getX(),i=this.series;this.svg}i.each(function(e){i.select(".bars-bg").attr({x:function(){return r(e[t.xaxis.key])},y:-1,width:r.rangeBand(),height:t.innerHeight+2})})}}),module.exports=BarMultiWithBG;