function BarEllipseCapsule(e,t){var r={margin:{top:40,right:60,bottom:30,left:80},xaxis:{type:"category",padding:[.8,.4],dy:40,key:t.x||"x",orient:"bottom"},yaxis:{key:t.y||"y"}};_.deepMerge(r,t,1),Bar.call(this,e,r)}require("../bar.css");var Bar=require("./barEllipse"),d3=require("d3"),_=require("../../util");BarEllipseCapsule=Bar.extend(BarEllipseCapsule,{_afterRender:function(){Bar.prototype._afterRender.call(this);var e=this.options,t=this.svg,r=this.getComs("axis","xaxis"),a=r.getX(),s=this.series;s.each(function(r){t.insert("rect",".bars").attr({"class":"bars-bg",rx:20,ry:10,x:function(){return a(r[e.xaxis.key])-4},y:-13,width:a.rangeBand()+8,height:e.innerHeight+26}).style("fill","none")})},_updateAfterRender:function(){Bar.prototype._updateAfterRender.call(this);var e=this.options,t=this.svg,r=this.getComs("axis","xaxis"),a=r.getX(),s=this.series;if(s.each(function(r,s){d3.select(t.select(".bars-bg")[0][s]).attr({"class":"bars-bg",rx:20,ry:10,x:function(){return a(r[e.xaxis.key])-4},y:-13,width:a.rangeBand()+8,height:e.innerHeight+26})}),e.xaxis.dy){var r=t.select(".axis1"),i=parseInt(r.attr("transform").match(/\d+/g)[1]);r.attr("transform","translate(0,"+(i+e.xaxis.dy)+")")}}}),module.exports=BarEllipseCapsule;