function BarCustom(t,e){var s={margin:{top:20,right:20,bottom:20,left:20},xaxis:{type:"defaults",orient:"bottom",key:e.x||"x"},yaxis:{type:"defaults",orient:"left",key:e.y||"y"}};_.deepMerge(s,e,1),DataV.call(this,t,s)}require("./bar.css");var DataV=require("../datav"),d3=require("d3"),_=require("../util");BarCustom=DataV.extend(BarCustom,{renderSeries:function(){this.svg.classed("bar-chart-g",!0);var t,e,s=this.options,a=this.data(),i=this;t=this.renderXAxis("xaxis",this.svg[0][0],s.xaxis),e=this.renderYAxis("yaxis",this.svg[0][0],s.yaxis);var n=t.getX(),o=e.getX(),r=s.yaxis.key,u=s.xaxis.key;this.series=this.svg.selectAll(".bar").data(a).enter().append("path").each(function(){var t=d3.select(this);s.withAnimated?t.attr({"class":"bar",d:function(t){var a=[{x:n(t[u]),y:o(e.getMin())},{x:n(t[u]),y:o(e.getMin())},{x:n(t[u])+n.rangeBand(),y:o(e.getMin())},{x:n(t[u])+n.rangeBand(),y:o(e.getMin())}];return"function"==typeof s.customPos?(a=s.customPos(a),_.pos2Path(a)):"function"==typeof s.customPath?s.customPath(a):_.pos2Path(a)}}).transition().duration(s.animatedTiming).ease(s.animatedEasing).attr({"class":"bar",d:function(t){var a=[{x:n(t[u]),y:o(e.getMin())},{x:n(t[u]),y:o(t[r])},{x:n(t[u])+n.rangeBand(),y:o(t[r])},{x:n(t[u])+n.rangeBand(),y:o(e.getMin())}];return"function"==typeof s.customPos?(a=s.customPos(a),_.pos2Path(a)):"function"==typeof s.customPath?s.customPath(a):_.pos2Path(a)}}):t.attr({"class":"bar",d:function(t){var a=[{x:n(t[u]),y:o(e.getMin())},{x:n(t[u]),y:o(t[r])},{x:n(t[u])+n.rangeBand(),y:o(t[r])},{x:n(t[u])+n.rangeBand(),y:o(e.getMin())}];return"function"==typeof s.customPos?(a=s.customPos(a),_.pos2Path(a)):"function"==typeof s.customPath?s.customPath(a):_.pos2Path(a)}})}),s.withInteract&&this.series.on("click",function(t,e){i.emit("series_click",{data:t,index:e,dom:this})}).on("mouseenter",function(t,e){i.emit("series_mouseenter",{data:t,index:e,dom:this})}).on("mouseover",function(t,e){i.emit("series_mouseover",{data:t,index:e,dom:this})}).on("mouseleave",function(t,e){i.emit("series_mouseleave",{data:t,index:e,dom:this})})},updateSeries:function(){var t=this.options,e=this.data(),s=this.getComs("axis","xaxis"),a=this.getComs("axis","yaxis");s.update(e,t.xaxis),a.update(e,t.yaxis);var i=s.getX(),n=a.getX(),o=t.yaxis.key,r=t.xaxis.key;this.series.data(e),this.series.attr({d:function(e){var s=[{x:i(e[r]),y:n(a.getMin())},{x:i(e[r]),y:n(e[o])},{x:i(e[r])+i.rangeBand(),y:n(e[o])},{x:i(e[r])+i.rangeBand(),y:n(a.getMin())}];return"function"==typeof t.customPos?(s=t.customPos(s),_.pos2Path(s)):"function"==typeof t.customPath?t.customPath(s):_.pos2Path(s)}})}}),module.exports=BarCustom;