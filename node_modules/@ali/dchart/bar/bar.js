function Bar(t,e){var i={xaxis:{type:"category",orient:"bottom"}};_.deepMerge(i,e,1),DataV.call(this,t,i)}require("./bar.css");var DataV=require("../datav"),d3=require("d3"),_=require("../util");Bar=DataV.extend(Bar,{renderSeries:function(){this.svg.classed("bar-chart-g",!0);var t,e,i=this,n=this.options;t=this.renderXAxis("xaxis",this.svg[0][0],n.xaxis),e=this.renderYAxis("yaxis",this.svg[0][0],n.yaxis);var a=t.getX(),r=e.getX(),s=n.xaxis.key,o=n.yaxis.key;this.series=this.svg.selectAll(".bar").data(this._data).enter().append("rect").each(function(){var t=d3.select(this);n.withAnimated?t.attr({"class":"bar",x:function(t){return a(t[s])},y:function(){return r(e.getMin())},width:function(){return a.rangeBand()},height:0}).transition().duration(n.animatedTiming).ease(n.animatedEasing).attr({x:function(t){return a(t[s])},y:function(t){return r(t[o])},width:function(){return a.rangeBand()},height:function(t){return r(e.getMin())-r(t[o])}}):t.attr({"class":"bar",x:function(t){return a(t[s])},y:function(t){return r(t[o])},width:function(){return a.rangeBand()},height:function(t){return r(e.getMin())-r(t[o])}})}),n.withInteract&&this.series.on("click",function(t,e){i.emit("series_click",{data:t,index:e,dom:this})}).on("mouseenter",function(t,e){i.emit("series_mouseenter",{data:t,index:e,dom:this})}).on("mouseover",function(t,e){i.emit("series_mouseover",{data:t,index:e,dom:this})}).on("mouseleave",function(t,e){i.emit("series_mouseleave",{data:t,index:e,dom:this})})},updateSeries:function(){var t=this.options,e=this.getComs("axis","xaxis"),i=this.getComs("axis","yaxis");e.update(this._data,t.xaxis),i.update(this._data,t.yaxis);var n=e.getX(),a=i.getX(),r=t.xaxis.key,s=t.yaxis.key;this.svg.selectAll(".bar").data(this._data),this.svg.selectAll(".bar").transition().duration(t.animatedTiming).ease(t.animatedEasing).attr({x:function(t){return n(t[r])},y:function(t){return a(t[s])},width:function(){return n.rangeBand()},height:function(t){return a(i.getMin())-a(t[s])}})}}),module.exports=Bar;