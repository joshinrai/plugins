function Force(t,e){var r={margin:{top:20,right:20,bottom:20,left:20},width:500,height:400,charge:-200,linkDistance:50,chargeDistance:200,color:"red",maxRadius:6,minRadius:2};r=_.deepMerge(r,e),this.init(t,r)}var DataV=require("../datav"),d3=require("d3"),_=require("../util");Force=DataV.extend(Force,{renderSeries:function(){var t=this.options,e=this.data(),r=this.svg;r.classed("force-chart-g",!0);var n=t.maxRadius,a=t.minRadius,i=d3.layout.force().charge(t.charge).linkDistance(t.linkDistance).chargeDistance(t.chargeDistance).size([t.width,t.height]);i.nodes(e.nodes).links(e.links).start();for(var c=r.selectAll(".link").data(e.links).enter().append("line").attr("class","link").style("stroke-width",function(t){return Math.sqrt(t.value)}),o=e.nodes,s=o[0].weight,u=1;u<s.length;u++){var l=o[u].weight;l>s&&(s=l)}var d=r.selectAll(".node").data(e.nodes).enter().append("circle").attr("class","node").attr("r",function(t){var e=Math.round(t.weight/s*n);return Math.max(e,a)}).style({fill:t.color,stroke:"white","stroke-width":2}).call(i.drag),h=r.selectAll(".text").data(e.nodes).enter().append("text").attr("class","title").attr("dx",function(t){return t.x}).attr("dy",function(t){return t.y}).style({"text-anchor":"middle",fill:"#000"}).text(function(t){return t.name});i.on("tick",function(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),d.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),h.attr("dx",function(t){return t.x}).attr("dy",function(t){return t.y})})}}),module.exports=Force;