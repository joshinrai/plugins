function LineWithPoint(t,e){var a={margin:{left:10,top:10,right:40,bottom:30},xaxis:{type:"category",padding:.2,dy:10,key:e.x||"x"},yaxis:{min:0,key:e.y||"y"},beforeLayout:{legend:{position:"float",height:"54",width:"84"}},legend:{margin:{left:0,top:0,right:0,bottom:0},type:"vertical",customRender:function(t,e){{var a=e.x,i=e.y;e.height}this.append("circle").attr({"class":"back",cx:a+15,cy:i+14,r:10}),this.append("circle").attr({"class":"front",cx:a+15,cy:i+14,r:3}),this.append("text").attr({"class":"label-text",x:a+30,y:i+20}).text(t)}}};a=_.deepMerge(a,e),DataV.call(this,t,a)}var DataV=require("../lineMulti"),_=require("../../util"),d3=require("d3");LineWithPoint=DataV.extend(LineWithPoint,{_beforeRender:function(){DataV.prototype._beforeRender.call(this);var t=this.renderBG("bg",this.svg[0][0]);t.renderGrid(13,6)},_afterRender:function(){DataV.prototype._afterRender.call(this);var t=this.options,e=this.getComs("axis","xaxis"),a=e.getX(),i=this.getComs("axis","yaxis"),r=i.getX(),n=t.xaxis.key,c=t.yaxis.key;this.svg.selectAll(".lines").each(function(){var t=d3.select(this),e=t.data();e[0].length&&e[0].forEach(function(e){var i=e[n];e[c].forEach(function(e,n){var c=t.append("g").attr("class","point point"+n);c.append("circle").attr({"class":"back",cx:a(i)+a.rangeBand()/2,cy:r(e),r:10}),c.append("circle").attr({"class":"front",cx:a(i)+a.rangeBand()/2,cy:r(e),r:3})})})});var s=e.selectAll(".tick")[0],l=i.selectAll(".tick")[0];d3.select(s[s.length-1]).select("text").text("年份"),d3.select(l[l.length-1]).select("text").text("贸易额")}}),module.exports=LineWithPoint;