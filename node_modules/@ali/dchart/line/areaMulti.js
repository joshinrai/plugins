function AreaMulti(e,t){var a={margin:{top:20,right:20,bottom:20,left:20},xaxis:{type:"defaults",orient:"bottom",key:t.x||"x"},yaxis:{type:"defaults",orient:"left",key:t.y||"y"}};a=_.deepMerge(a,t),DataV.call(this,e,a)}require("./line.css");var DataV=require("../datav"),d3=require("d3"),_=require("../util");AreaMulti=DataV.extend(AreaMulti,{renderSeries:function(){this.svg.classed("area-chart-g",!0);var e,t,a=this.options,i=this.data(),s=this,r=a.xaxis.key,n=a.yaxis.key,o=[];i.forEach(function(e){o=_.union(o,e[n])});var d=_.max(o);a.yaxis.max=d,a.yaxis.min=0,e=this.renderXAxis("xaxis",this.svg[0][0],a.xaxis),t=this.renderYAxis("yaxis",this.svg[0][0],a.yaxis);var u=e.getX(),x=t.getX(),h=i[0][n].length;this.series=this.svg.datum(i).append("g").attr({"class":"areas"}).each(function(){for(var e=d3.select(this),t=0;h>t;t++){var i=d3.svg.area().x(function(e){return u(e[r])+(u.rangeBand?u.rangeBand()/2:0)}).y0(x(0)).y1(function(e){return x(e[n][t])});a.interpolate&&i.interpolate(a.interpolate),e.append("path").attr({"class":"area area"+(t+1),d:i})}}),a.withInteract&&this.series.on("click",function(e,t){s.emit("series_click",{data:e,index:t,dom:this})}).on("mouseenter",function(e,t){s.emit("series_mouseenter",{data:e,index:t,dom:this})}).on("mouseover",function(e,t){s.emit("series_mouseover",{data:e,index:t,dom:this})}).on("mouseleave",function(e,t){s.emit("series_mouseleave",{data:e,index:t,dom:this})}),this._afterRender()},updateSeries:function(){var e=this.options,t=this.data(),a=this.getComs("axis","xaxis"),i=this.getComs("axis","yaxis"),s=e.xaxis.key,r=e.yaxis.key,n=[];t.forEach(function(e){n=_.union(n,e[r])});var o=_.max(n);e.yaxis.max=o,e.yaxis.min=0,a.update(t,e.xaxis),i.update(t,e.yaxis);var d=a.getX(),u=i.getX(),x=t[0][r].length;this.series.datum(t),this.series.each(function(){for(var t=d3.select(this),a=0;x>a;a++){var i=d3.svg.area().x(function(e){return d(e[s])+(d.rangeBand?d.rangeBand()/2:0)}).y0(u(0)).y1(function(e){return u(e[r][a])});e.interpolate&&i.interpolate(e.interpolate),t.select(".area"+(a+1)).attr({d:i})}})}}),module.exports=AreaMulti;