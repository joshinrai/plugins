function Legend(e,t,n){this.reset(),this.options={type:"horizontal",renderType:"defaults"},this.init(e,t,n),this._valid()}var _=require("../util"),Com=require("./index"),d3=require("d3");Legend=Com.extend(Legend,{_valid:function(){var e=this.options,t=["horizontal","vertical"];-1===_.indexOf(t,e.type.toLowerCase())&&(this.msg="legend arguments error. there is no "+e.type+" in types.",e.type=t[0],this.valid=!1),e.type=_.initialUpperCase(e.type);var n=["defaults"];-1===_.indexOf(n,e.renderType.toLowerCase())&&(this.msg="legend arguments error. there is no "+e.renderType+" in types.",e.renderType=n[0],this.valid=!1),e.renderType=_.initialUpperCase(e.renderType)},renderSeries:function(){var e=this.options,t=this.alloptions,n=e.beforeLayout.legend,i=_.extend(_.omit(n,"position"),{margin:_.split(t.margin,"px ")});return this.el.append("div").attr({"class":"legend"}).style(i),this.svg=this.el.append("svg").attr({width:n.innerWidth,height:n.innerHeight}).append("g"),this["cal"+e.type](),this},calHorizontal:function(){var e=this.options,t=e.legendLabels.length,n=e.beforeLayout.legend,i=n.innerWidth/t,r=this;e.legendLabels.forEach(function(t,s){var d={x:s*i,y:0,width:i,height:n.innerHeight},l=r.svg.append("g").attr({"class":"legend-label legend"+s});"function"==typeof e.legend.customRender?e.legend.customRender.call(l,t,d,s):this["render"+e.renderType](l,t,d,s)})},calVertical:function(){var e=this.options,t=e.legendLabels.length,n=e.beforeLayout.legend,i=n.innerHeight/t,r=this;e.legendLabels.forEach(function(t,s){var d={x:0,y:s*i,width:n.innerWidth,height:i},l=r.svg.append("g").attr({"class":"legend-label legend"+s});"function"==typeof e.legend.customRender?e.legend.customRender.call(l,t,d,s):this["render"+e.renderType](l,t,d,s)})},renderDefaults:function(){}}),module.exports=Legend;