function Com(){}var _=require("../util"),d3=require("d3"),Event=require("bcore/event");Com=Event.extend(Com,{_valid:function(){},reset:function(){this.el=null,this.valid=!0,this.msg="",this._data=null,this.options=null,this.alloptions=null},init:function(t,e,s){return t||this.el?(t&&(this.el=d3.select(t)),this.options=_.deepMerge(this.options,e),void(this.alloptions=s||this.alloptions)):!1},data:function(t){return t?void(this._data=t):this._data},render:function(t){return this.valid||this.emit("error",{msg:this.msg}),t&&this.data(t),this.renderSeries(),this},renderSeries:function(){},update:function(t,e){this.init(null,e),this.data(t),this._valid(),this.valid||this.emit("error",{msg:this.msg}),this.updateSeries()},updateSeries:function(){},destroy:function(){this.el&&this.el.remove()},addClass:function(t,e){return e?this.el&&this.el.selectAll(e).classed(t,!0):this.el&&this.el.classed(t,!0)},removeClass:function(t,e){return e?this.el&&this.el.selectAll(e).classed(t,!1):this.el&&this.el.classed(t,!1)},attr:function(t,e){return e?this.el&&this.el.selectAll(e).attr(t):this.el&&this.el.attr(t)},style:function(t,e){return e?this.el&&this.el.selectAll(e).style(t):this.el&&this.el.style(t)},append:function(t,e){return e?this.el&&this.el.selectAll(e).append(t):this.el&&this.el.append(t)},select:function(t,e){return e?this.el&&this.el.selectAll(e).select(t):this.el&&this.el.select(t)},selectAll:function(t,e){return e?this.el&&this.el.selectAll(e).selectAll(t):this.el&&this.el.selectAll(t)},layout:function(t){var e=this.options,s=this.alloptions,l=s.parentEl.select(".g-container"),i=s.svg.attr("transform")?s.svg.attr("transform").match(/\d+/g):[0,0],r=s.svg[0][0].getBBox(),n=r.width,a=r.height,h=this.el=l.append("g").attr("class",t);switch(e.orient){case"right":h.attr("transform","translate("+(parseInt(i[0])+n)+", 0)");break;case"bottom":h.attr("transform","translate(0, "+(parseInt(i[1])+a)+")");break;case"left":l.selectAll("g").each(function(){var e=d3.select(this);if(e.classed(t))return!0;var l=e.attr("transform")?e.attr("transform").match(/\d+/g):[0,0];e.attr("transform","translate("+(parseInt(l[0])+s.elWidth)+", 0)")});break;case"top":l.selectAll("g").each(function(){var e=d3.select(this);if(e.classed(t))return!0;var l=e.attr("transform")?e.attr("transform").match(/\d+/g):[0,0];e.attr("transform","translate(0, "+(parseInt(l[1])+s.elHeight)+")")})}}}),module.exports=Com;